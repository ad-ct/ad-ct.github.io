(function(e){function t(t){for(var n,o,s=t[0],l=t[1],c=t[2],m=0,p=[];m<s.length;m++)o=s[m],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"0614":function(e,t,r){e.exports=r.p+"static/img/Login.2fa22e4c.png"},"0edd":function(e,t,r){},"20e2":function(e,t,r){},"22a0":function(e,t,r){e.exports=r.p+"static/media/login.693d9a56.mp4"},"47e8":function(e,t,r){"use strict";r("cfb7")},"522a":function(e,t,r){"use strict";r("f487")},5490:function(e,t,r){"use strict";r("a6b6")},"56c0":function(e,t,r){"use strict";r("8df8")},"56d7":function(e,t,r){"use strict";r.r(t);r("0fae");var n=r("9e2f"),a=r.n(n),i=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},s=[],l={name:"app"},c=l,u=(r("034f"),r("2877")),m=Object(u["a"])(c,o,s,!1,null,null,null),p=m.exports,d=r("b2d6"),f=r.n(d),g=r("f529"),h=r.n(g),y=r("72aa"),v=r.n(y),x=r("a447"),w=r.n(x),b=r("f3ad"),F=r.n(b),k=r("3787"),C=r.n(k),$=r("4105"),_=r.n($),S=r("eedf"),E=r.n(S);i["default"].use(E.a),i["default"].use(_.a),i["default"].use(C.a),i["default"].use(F.a),i["default"].use(w.a),i["default"].use(v.a),i["default"].prototype.$message=h.a;var T=r("8c4f"),M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"background",staticStyle:{overflow:"-Scroll","overflow-y":"hidden"}},[n("video",{staticClass:"login-fillWidth",style:e.fixStyle,attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0},on:{canplay:e.canplay}},[n("source",{attrs:{src:r("22a0"),type:"video/mp4"}})]),n("div",{staticClass:"login_box"},[e._m(0),e._m(1),n("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{model:e.loginForm,rules:e.loginFormRules}},[n("el-form-item",{attrs:{prop:"username"}},[n("div",{staticClass:"inputText"},[n("el-input",{attrs:{id:"username","prefix-icon":"el-icon-user",placeholder:"Username"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1)]),n("el-form-item",{attrs:{prop:"password"}},[n("div",{staticClass:"inputText",staticStyle:{"margin-top":"-40px"}},[n("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"Password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)]),n("el-button",{staticClass:"inputButton",attrs:{type:"LOGIN",round:""},on:{click:function(t){return e.login()}}},[e._v("登 陆")]),n("div",{attrs:{id:"signIn"},on:{click:function(t){return e.register()}}},[n("el-link",{attrs:{type:"primary"}},[e._v(" 没有账号？点击注册 ")])],1)],1)],1)])},P=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"avatar_box1"},[n("img",{attrs:{src:r("72f0")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"avatar_box2"},[n("img",{attrs:{src:r("0614")}})])}],R=r("1da1"),L=(r("96cf"),r("bc3a")),O=r.n(L),H={name:"Login",data:function(){return{videoCanPlay:!1,fixStyle:"",loginForm:{username:"",password:""},loginFormRules:{username:[{required:!0,message:"                                          请输入用户名",trigger:"blur"},{min:4,max:10,message:"                                          长度在 4 到 10 个字符",trigger:"blur"},{pattern:/^[a-zA-Z]+$/,message:"                                          只能输入4-10位的字母",trigger:"blur"}],password:[{required:!0,message:"                                          请输入密码",trigger:"blur"},{min:6,max:16,message:"                                          长度在 6 到 16 个字符",trigger:"blur"},{pattern:/^(\w){6,16}$/,message:"                                          只能输入6-16个字母、数字、下划线",trigger:"blur"}]}}},methods:{login:function(){var e=this;this.$refs.loginFormRef.validate(function(){var t=Object(R["a"])(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in r||(e.$refs.loginFormRef.resetFields(),e.$message.error("登陆失败")),n=new FormData,e.loginForm)n.append(a,e.loginForm[a]),console.log(n.get(a));e.$axios.post("https://120.25.76.71/api/login",{username:e.loginForm.username,password:e.loginForm.password}).then((function(t){e.$message.success("登陆成功"),e.$router.push("./home")}),(function(t){e.$message.error("登陆失败")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},register:function(){this.$router.push("./register")},home:function(){this.$router.push("./home")},canplay:function(){this.videoCanPlay=!0}},mounted:function(){var e=this;window.onresize=function(){var t,r,n=document.body.clientWidth,a=document.body.clientHeight,i=a/n;i<.5625?(t=n,r=.5625*t,e.fixStyle={height:.5625*n+"px",width:n+"px","margin-bottom":(a-r)/2+"px","margin-left":"initial"}):(r=a,t=r/.5625,e.fixStyle={height:a+"px",width:a/.5625+"px","margin-left":(n-t)/2+"px","margin-bottom":"initial"})},window.onresize()}},j=H,D=(r("7f7f"),Object(u["a"])(j,M,P,!1,null,"2ccae3a0",null)),q=D.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"background",staticStyle:{overflow:"-Scroll","overflow-y":"hidden"}},[n("video",{staticClass:"login-fillWidth",style:e.fixStyle,attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0},on:{canplay:e.canplay}},[n("source",{attrs:{src:r("22a0"),type:"video/mp4"}})]),n("div",{staticClass:"register_box"},[e._m(0),e._m(1),n("el-form",{ref:"registerFormRef",staticClass:"register_form",attrs:{model:e.registerForm,rules:e.registerFormRules,"status-icon":""}},[n("el-form-item",{attrs:{prop:"username"}},[n("div",{staticClass:"inputText"},[n("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"Username"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1)]),n("el-form-item",{attrs:{prop:"phone"}},[n("div",{staticClass:"inputText",staticStyle:{"margin-top":"-50px"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-phone",placeholder:"Phone Number"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}})],1)]),n("el-form-item",{attrs:{prop:"password"}},[n("div",{staticClass:"inputText",staticStyle:{"margin-top":"-50px"}},[n("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"Password",autocomplete:"off"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1)]),n("el-form-item",{attrs:{prop:"checkPass"}},[n("div",{staticClass:"inputText",staticStyle:{"margin-top":"-50px"}},[n("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"CheckPass",autocomplete:"off"},model:{value:e.registerForm.checkPass,callback:function(t){e.$set(e.registerForm,"checkPass",t)},expression:"registerForm.checkPass"}})],1)]),n("el-form-item",{attrs:{prop:"code"}},[n("div",{staticClass:"inputText",staticStyle:{"margin-top":"-50px"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-eleme",placeholder:"Invitation Code"},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}})],1)]),n("el-button",{staticClass:"inputButton",attrs:{type:"LOGIN",round:""},on:{click:function(t){return e.register()}}},[e._v("注 册")]),n("div",{attrs:{id:"signIn"},on:{click:function(t){return e.login()}}},[n("el-link",{attrs:{type:"primary"}},[e._v("已有账号？点击登陆")])],1)],1)],1)])},z=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"avatar_box1"},[n("img",{attrs:{src:r("72f0")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"avatar_box2"},[n("img",{attrs:{src:r("0614"),alt:""}})])}],A={name:"Register",data:function(){var e=this,t=function(t,r,n){""===r?n(new Error("              请输入密码")):(""!==e.registerForm.checkPass&&e.$refs.registerFormRef.validateField("checkPass"),n())},r=function(t,r,n){""===r?n(new Error("              请再次输入密码")):r!==e.registerForm.password?n(new Error("              两次输入密码不一致!")):n()},n=function(t,r,n){""===r?n(new Error("              请输入手机号")):e.isCellPhone(r)?n():n(new Error("              请输入正确的手机号!"))};return{videoCanPlay:!1,fixStyle:"",registerForm:{username:"",password:"",checkPass:"",phone:"",code:""},registerFormRules:{username:[{required:!0,message:"              请输入用户名",trigger:"blur"},{min:4,max:10,message:"长度在 4 到 10 个字符",trigger:"blur"},{pattern:/^[a-zA-Z]+$/,message:"只能输入4-10位的字母",trigger:"blur"}],password:[{validator:t,trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16个字符",trigger:"blur"},{pattern:/^(\w){6,16}$/,message:"只能输入6-16个字母、数字、下划线",trigger:"blur"}],checkPass:[{validator:r,trigger:"blur"}],phone:[{required:!0,message:"              请输入手机号码",trigger:"blur"},{validator:n,trigger:"blur"}]}}},methods:{isCellPhone:function(e){return!!/^1(3|4|5|6|7|8)\d{9}$/.test(e)},register:function(){var e=this;this.$refs.registerFormRef.validate(function(){var t=Object(R["a"])(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in r||(e.$refs.registerFormRef.resetFields(),e.$message.error("注册失败")),n=new FormData,e.registerForm)n.append(a,e.registerForm[a]),console.log(n.get(a));e.$axios.post("https://120.25.76.71/api/register",{username:e.registerForm.username,phone:e.registerForm.phone,password:e.registerForm.password}).then((function(t){e.$message.success("注册成功"),e.$router.push("./login")}),(function(t){e.$message.error("注册失败")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},login:function(){this.$router.push("./login")},canplay:function(){this.videoCanPlay=!0}},mounted:function(){var e=this;window.onresize=function(){var t,r,n=document.body.clientWidth,a=document.body.clientHeight,i=a/n;i<.5625?(t=n,r=.5625*t,e.fixStyle={height:.5625*n+"px",width:n+"px","margin-bottom":(a-r)/2+"px","margin-left":"initial"}):(r=a,t=r/.5625,e.fixStyle={height:a+"px",width:a/.5625+"px","margin-left":(n-t)/2+"px","margin-bottom":"initial"})},window.onresize()}},I=A,W=(r("56c0"),Object(u["a"])(I,B,z,!1,null,"1924bb28",null)),J=W.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("el-container",{staticStyle:{height:"100%",border:"1px solid #333744"}},[n("el-header",[n("div",{staticStyle:{"background-color":"#373d41"}},[n("img",{staticStyle:{height:"55px",width:"140px"},attrs:{src:r("d8b4")}})]),n("span",{staticClass:"font"},[e._v("重大传染病流调系统")]),n("div",{staticClass:"firework"},[n("lottie-player",{staticStyle:{width:"200px",height:"60px"},attrs:{src:"https://assets3.lottiefiles.com/packages/lf20_fJ7CVd.json",background:"transparent",speed:"1",loop:"",autoplay:""}})],1),n("el-button",{staticClass:"exit",attrs:{type:"primary",round:""},on:{click:function(t){return e.exit()}}},[e._v("退 出")])],1),n("el-container",{staticStyle:{padding:"0"}},[n("el-aside",{attrs:{width:e.isCollapse?"64px":"200px"}},[n("div",{staticClass:"toggle"},[e._v("|||")]),n("el-menu",{attrs:{collapse:e.isCollapse,"collapse-transition":!1,router:!0,"background-color":"#333744","text-color":"#fff","active-text-color":"#409EFF"}},[n("el-menu-item",{attrs:{index:"/home"}},[n("i",{staticClass:"el-icon-house"}),n("span",[e._v("首页")])]),n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-custom"}),n("span",[e._v("用户")])]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/person"}},[n("i",{staticClass:"el-icon-user"}),e._v("个人信息")]),n("el-menu-item",{attrs:{index:"/record"}},[n("i",{staticClass:"el-icon-document"}),e._v("我的记录")])],1)],2),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-search"}),n("span",[e._v("查询")])]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/search"}},[n("i",{staticClass:"el-icon-search"}),e._v("查询患者")]),n("el-menu-item",{attrs:{index:"/back"}},[n("i",{staticClass:"el-icon-refresh"}),e._v("查询回溯")]),n("el-menu-item",{attrs:{index:"/enter"}},[n("i",{staticClass:"el-icon-edit-outline"}),e._v("人工录入")])],1)],2),n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-setting"}),n("span",[e._v("设置")])]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/background"}},[n("i",{staticClass:"el-icon-sort"}),e._v("切换背景")]),n("el-menu-item",{attrs:{index:"/manage"}},[n("i",{staticClass:"el-icon-wallet"}),e._v("账号管理")]),n("el-menu-item",{attrs:{index:"/check"}},[n("i",{staticClass:"el-icon-setting"}),e._v("检查更新")]),n("el-menu-item",{attrs:{index:"/about"}},[n("i",{staticClass:"el-icon-info"}),e._v("关于我们")])],1)],2)],1)],1),n("el-main",{style:e.defaultHeight},[n("div",{staticStyle:{"overflow-y":"auto",height:"100%"}},[n("router-view")],1)])],1)],1)],1)},Z=[],X={data:function(){return{videoCanPlay:!1,isCollapse:!1,defaultHeight:{height:""}}},methods:{toggleCollapse:function(){this.isCollapse=!this.isCollapse},exit:function(){var e=this;this.$confirm("是否确认要退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$router.push("./login")}))},getHeight:function(){this.defaultHeight.height=window.innerHeight-62+"px"}},created:function(){window.addEventListener("resize",this.getHeight),this.getHeight()}},V=X,G=(r("8b71"),Object(u["a"])(V,U,Z,!1,null,null,null)),K=G.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"container"}})},Q=[],Y=(r("4ec9"),r("d3b7"),r("3ca3"),r("ddb0"),r("b0c0"),r("d81d"),{data:function(){return{marked:[],path:[],tril:[],name:[],Map:Map,markerLayer:"",polylineLayer:""}},methods:{getOtherLocation:function(){var e=this;this.$axios.post("https://120.25.76.71/api/func",{name:this.$route.query.name,identy:this.$route.query.identy,time:this.$route.query.time}).then((function(t){for(var r=1;r<t.data.all_routes.length;r+=2){for(var n=0;n<t.data.all_routes[r].length;n++){var a={firlat:t.data.all_routes[r][n]["0"],firlng:t.data.all_routes[r][n]["1"],laslat:t.data.all_routes[r][n]["3"],laslng:t.data.all_routes[r][n]["4"]},i=e.marked[t.data.all_routes[r-1]]||[];i.push(a),e.marked[t.data.all_routes[r-1]]=i}e.name.push(t.data.all_routes[r-1])}console.log(e.marked),console.log(e.marked[e.name[0]]);for(r=0;r<e.name.length;r++){var o=0;for(n=0;n<e.marked[e.name[r]].length;n++)e.markerLayer.add({id:e.name[r]+o,position:new TMap.LatLng(e.marked[e.name[r]][n].firlat,e.marked[e.name[r]][n].firlng),properties:{name:e.name[r]}}),o+=1,e.markerLayer.add({id:e.name[r]+o,position:new TMap.LatLng(e.marked[e.name[r]][n].laslat,e.marked[e.name[r]][n].laslng),properties:{name:e.name[r]}}),o+=1}for(r=0;r<e.name.length;r++){var s=new Array,l=0;for(n=0;n<e.marked[e.name[r]].length;n++)s[l]=[e.marked[e.name[r]][n].firlat,e.marked[e.name[r]][n].firlng],l+=1,s[l]=[e.marked[e.name[r]][n].laslat,e.marked[e.name[r]][n].laslng],l+=1;console.log(s),s=s.map((function(e){return new TMap.LatLng(e[0],e[1])})),e.polylineLayer.add({id:e.name[r],styleId:"style_green",paths:s})}}))},initMap:function(){var e=new window.TMap.LatLng(39.792151,116.397607);this.Map=new window.TMap.Map(document.getElementById("container"),{center:e,zoom:15,pitch:43.5,rotation:45,mapStyleId:"style1",baseMap:{type:"vector",features:["base","building2d"]}});var t=this;this.$axios.post("https://120.25.76.71/api/func",{name:this.$route.query.name,identy:this.$route.query.identy,time:this.$route.query.time}).then((function(e){console.log(e.data),console.log(e.data.routes.length);for(var r=0;r<e.data.routes.length;r++){var n={lat:e.data.routes[r]["1"],lng:e.data.routes[r]["2"]},a=t.marked["location"]||[];a.push(n),t.marked["location"]=a,t.tril.push(n)}var i=0;for(var o in t.tril)t.path[i]=[t.tril[i].lat,t.tril[i].lng],i+=1;t.Map.setCenter(new TMap.LatLng(t.path[0][0],t.path[0][1]));for(r=0;r<t.marked.location.length;r++)t.markerLayer.add({id:r,styleId:"myStyle",position:new TMap.LatLng(t.marked.location[r]["lat"],t.marked.location[r]["lng"]),properties:{name:e.data.name}});new TMap.visualization.Trail({map:t.Map,pickStyle:function(e){return{width:10,color:"#00FFFF"}},startTime:0,showDuration:120,playRate:1e3}).addTo(t.Map).setData([{path:t.path}]);t.polylineLayer=new TMap.MultiPolyline({id:"polyline-layer",map:t.Map,styles:{style_red:new TMap.PolylineStyle({color:"#CC0000",width:6,lineCap:"round"}),style_green:new TMap.PolylineStyle({color:"#00FF00",width:6,lineCap:"round"})}});var s=new Array;r=0;for(var o in t.tril)s[r]=[t.tril[r].lat,t.tril[r].lng],r+=1;s=s.map((function(e){return new TMap.LatLng(e[0],e[1])})),t.polylineLayer.add({id:"pl_1",styleId:"style_red",paths:s})})),t.markerLayer=new TMap.MultiMarker({map:t.Map,styles:{myStyle:new TMap.MarkerStyle({width:25,height:35,src:"https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/markerDefault.png",anchor:{x:16,y:32}})}});var r=new TMap.InfoWindow({map:t.Map,position:new TMap.LatLng(39.98412,116.307484),offset:{x:0,y:-32}});r.close();var n=function(e){r.open(),r.setPosition(e.geometry.position),console.log(e.geometry.position),t.$axios.post("https://120.25.76.71/api/content",{url:"https://apis.map.qq.com/ws/geocoder/v1/?location="+e.geometry.position.lat+","+e.geometry.position.lng+"&key=EHABZ-5AFLU-T5XV6-BHFBR-JRKTZ-2UFJ6"}).then((function(t){console.log(t.data),r.setContent("<p><h1>"+e.geometry.properties.name+"</h1></p>"+t.data)}))};t.markerLayer.on("click",n),console.log(t.Map),console.log(window)}},mounted:function(){this.initMap(),setTimeout(this.getOtherLocation(),2e3)}}),ee=Y,te=(r("5490"),Object(u["a"])(ee,N,Q,!1,null,null,null)),re=te.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search",staticStyle:{overflow:"-Scroll","overflow-y":"hidden","overflow-x":"hidden"}},[n("div",{staticClass:"container",style:e.contain},[n("video",{staticClass:"login-fillWidth",attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0},on:{canplay:e.canplay}},[n("source",{attrs:{src:r("22a0"),type:"video/mp4"}})])]),n("div",{staticClass:"loc"},[n("lottie-player",{attrs:{src:"https://assets8.lottiefiles.com/packages/lf20_1fkkgt7r.json",background:"transparent",speed:"1",loop:"",autoplay:""}})],1),n("el-form",{ref:"SearchFormRef",staticClass:"searchForm",attrs:{model:e.SearchForm,"label-width":"80px",rules:e.SearchFormRules,"status-icon":""}},[n("div",{staticClass:"font"},[n("h1",[e._v("查 询 患 者 信 息")])]),n("div",{staticClass:"inputText"},[n("el-form-item",{staticClass:"label",attrs:{label:"姓名",prop:"name"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.SearchForm.name,callback:function(t){e.$set(e.SearchForm,"name",t)},expression:"SearchForm.name"}})],1)],1),n("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[n("el-form-item",{staticClass:"label",attrs:{label:"身份证号",prop:"identy"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-postcard"},model:{value:e.SearchForm.identy,callback:function(t){e.$set(e.SearchForm,"identy",t)},expression:"SearchForm.identy"}})],1)],1),n("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[n("el-form-item",{staticClass:"label",attrs:{label:"查询日期",prop:"time"}},[n("el-col",{attrs:{span:11}},[n("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.SearchForm.time,callback:function(t){e.$set(e.SearchForm,"time",t)},expression:"SearchForm.time"}})],1)],1)],1),n("el-form-item",[n("el-button",{staticClass:"button1",attrs:{type:"primary",round:""},on:{click:function(t){return e.onload()}}},[e._v("查 询")]),n("el-button",{staticClass:"button2",staticStyle:{"margin-left":"90px"},attrs:{round:""},on:{click:function(t){return e.cancel()}}},[e._v("取 消")])],1)],1)],1)},ae=[],ie={name:"Search",data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-7776e6),e.$emit("pick",[r,t])}}]},videoCanPlay:!1,fixStyle:"",contain:{height:"",width:""},SearchForm:{name:"",identy:"",time:""},SearchFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{pattern:"^[\\u4e00-\\u9fa5]{2,4}$",message:"请输入正确的姓名",trigger:"blur"}],identy:[{required:!0,message:"请输入身份证号",trigger:"blur"},{pattern:"^[1-9]\\d{5}(18|19|20|(3\\d))\\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$",message:"请输入正确的身份证号",trigger:"blur"}]}}},methods:{onload:function(){var e=this;this.$refs.SearchFormRef.validate(function(){var t=Object(R["a"])(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in r||(e.$refs.SearchFormRef.resetFields(),e.$notify.error({title:"错误",message:"输入的信息不符合规则"})),n=new FormData,e.SearchForm)n.append(a,e.SearchForm[a]),console.log(n.get(a));e.$confirm("是否确认查询?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$router.push({path:"/map",name:"Map",query:{name:e.SearchForm.name,identy:e.SearchForm.identy,time:e.SearchForm.time},params:{usersitelist:"userlist"}}),e.$axios.post("https://120.25.76.71/api/func",{name:e.SearchForm.name,identy:e.SearchForm.identy,time:e.SearchForm.time}).then((function(t){e.$message.success("成功查询患者"),e.$router.push("./home")}),(function(t){e.$message.error("查询失败")}))})).catch((function(){}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},cancel:function(){var e=this;this.$confirm("是否确认要取消查询?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$refs.SearchFormRef.resetFields()})).catch((function(){}))},canplay:function(){this.videoCanPlay=!0},getDefault:function(){this.contain.height=window.innerHeight-62+"px",this.contain.width=window.innerWidth-201+"px"}},created:function(){window.addEventListener("resize",this.getDefault),this.getDefault()}},oe=ie,se=(r("47e8"),Object(u["a"])(oe,ne,ae,!1,null,null,null)),le=se.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"enter",staticStyle:{overflow:"-Scroll","overflow-y":"hidden","overflow-x":"hidden"}},[n("div",{staticClass:"container",style:e.contain},[n("video",{staticClass:"login-fillWidth",attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0},on:{canplay:e.canplay}},[n("source",{attrs:{src:r("22a0"),type:"video/mp4"}}),e._v(" --\x3e ")])]),n("div",{staticClass:"loc"},[n("lottie-player",{attrs:{src:"https://assets5.lottiefiles.com/packages/lf20_osthueqs.json",background:"transparent",speed:"1",loop:"",autoplay:""}})],1),n("el-form",{ref:"EnterFormRef",staticClass:"enterForm",attrs:{model:e.EnterForm,"label-width":"80px",rules:e.EnterFormRules,"status-icon":""}},[n("div",{staticClass:"font"},[n("h1",[e._v("录 入 患 者 信 息")])]),n("div",{staticClass:"inputText"},[n("el-form-item",{staticClass:"label",attrs:{label:"姓名",prop:"name"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.EnterForm.name,callback:function(t){e.$set(e.EnterForm,"name",t)},expression:"EnterForm.name"}})],1)],1),n("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[n("el-form-item",{staticClass:"label",attrs:{label:"身份证号",prop:"identy"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-postcard"},model:{value:e.EnterForm.identy,callback:function(t){e.$set(e.EnterForm,"identy",t)},expression:"EnterForm.identy"}})],1)],1),n("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[n("el-form-item",{staticClass:"label",attrs:{label:"查询日期",prop:"time"}},[n("el-col",{attrs:{span:11}},[n("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.EnterForm.time,callback:function(t){e.$set(e.EnterForm,"time",t)},expression:"EnterForm.time"}})],1)],1)],1),n("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[n("el-form-item",{staticClass:"label",attrs:{label:"起始位置",prop:"location1"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-location-information"},model:{value:e.EnterForm.location1,callback:function(t){e.$set(e.EnterForm,"location1",t)},expression:"EnterForm.location1"}})],1)],1),n("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[n("el-form-item",{staticClass:"label",attrs:{label:"终止位置",prop:"location2"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-location-information"},model:{value:e.EnterForm.location2,callback:function(t){e.$set(e.EnterForm,"location2",t)},expression:"EnterForm.location2"}})],1)],1),n("el-form-item",[n("el-button",{staticClass:"button1",attrs:{type:"primary",round:""},on:{click:function(t){return e.onload()}}},[e._v("录 入")]),n("el-button",{staticClass:"button2",staticStyle:{"margin-left":"90px"},attrs:{round:""},on:{click:function(t){return e.cancel()}}},[e._v(" 取 消")])],1)],1)],1)},ue=[],me={name:"Enter",data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-7776e6),e.$emit("pick",[r,t])}}]},videoCanPlay:!1,fixStyle:"",contain:{height:"",width:""},EnterForm:{name:"",identy:"",time:"",location1:"",location2:"",x1:"",y1:"",x2:"",y2:""},EnterFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{pattern:"^[\\u4e00-\\u9fa5]{2,4}$",message:"请输入正确的姓名",trigger:"blur"}],identy:[{required:!0,message:"请输入身份证号",trigger:"blur"},{pattern:"^[1-9]\\d{5}(18|19|20|(3\\d))\\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$",message:"请输入正确的身份证号",trigger:"blur"}],location1:[{required:!0,message:"请输入地址信息",trigger:"blur"},{pattern:/^[\u4E00-\u9FA5]+$/,message:"地址信息不正确",trigger:"blur"}],location2:[{required:!0,message:"请输入地址信息",trigger:"blur"},{pattern:/^[\u4E00-\u9FA5]+$/,message:"地址信息不正确",trigger:"blur"}]}}},methods:{onload:function(){var e=this;this.$refs.EnterFormRef.validate(function(){var t=Object(R["a"])(regeneratorRuntime.mark((function t(r){var n,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(o in r||e.$refs.EnterFormRef.resetFields(),n="/api/ws/geocoder/v1/?address="+e.EnterForm.location1+"&key=EHABZ-5AFLU-T5XV6-BHFBR-JRKTZ-2UFJ6",a="/api/ws/geocoder/v1/?address="+e.EnterForm.location2+"&key=EHABZ-5AFLU-T5XV6-BHFBR-JRKTZ-2UFJ6",e.$axios.get(n,{}).then((function(t){e.EnterForm.x1=t.data.result.location.lat,e.EnterForm.y1=t.data.result.location.lng,console.log(t.data)}),(function(t){e.$message.error("录入失败")})),e.$axios.get(a,{}).then((function(t){e.EnterForm.x2=t.data.result.location.lat,e.EnterForm.y2=t.data.result.location.lng,console.log(t.data)}),(function(t){e.$message.error("录入失败")})),i=new FormData,e.EnterForm)i.append(o,e.EnterForm[o]),console.log(i.get(o));e.$confirm("是否确认录入?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$axios.post("https://120.25.76.71/api/entry",{name:e.EnterForm.name,identy:e.EnterForm.identy,x1:e.EnterForm.x1,y1:e.EnterForm.y1,x2:e.EnterForm.x2,y2:e.EnterForm.y2,time:e.EnterForm.time}).then((function(t){e.$message.success("成功录入患者"),e.$refs.EnterFormRef.resetFields()}),(function(t){console.log(t),console.log(e.EnterForm.time),console.log(e.EnterForm.x1),console.log(e.EnterForm.y1),e.$message.error("录入失败")}))})).catch((function(){}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},cancel:function(){var e=this;this.$confirm("是否确认要取消录入?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$refs.EnterFormRef.resetFields()})).catch((function(){}))},canplay:function(){this.videoCanPlay=!0},getDefault:function(){this.contain.height=window.innerHeight-62+"px",this.contain.width=window.innerWidth-201+"px"}},created:function(){window.addEventListener("resize",this.getDefault),this.getDefault()}},pe=me,de=(r("aa09"),Object(u["a"])(pe,ce,ue,!1,null,null,null)),fe=de.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-homepage-hero-module"},[n("div",{staticClass:"login-video-container"},[n("video",{staticClass:"login-fillWidth",style:e.fixStyle,attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0},on:{canplay:e.canplay}},[n("source",{attrs:{src:r("22a0"),type:"video/mp4"}})])])])},he=[],ye={data:function(){return{videoCanPlay:!1,fixStyle:""}},methods:{canplay:function(){this.videoCanPlay=!0}},mounted:function(){var e=this;window.onresize=function(){var t,r,n=document.body.clientWidth,a=document.body.clientHeight,i=a/n;i<.5625?(t=n,r=.5625*t,e.fixStyle={height:.5625*n+"px",width:n+"px","margin-bottom":(a-r)/2+"px","margin-left":"initial"}):(r=a,t=r/.5625,e.fixStyle={height:a+"px",width:a/.5625+"px","margin-left":(n-t)/2+"px","margin-bottom":"initial"})},window.onresize()}},ve=ye,xe=(r("522a"),Object(u["a"])(ve,ge,he,!1,null,"24350dbe",null)),we=xe.exports;i["default"].use(T["a"]);var be=[{path:"/",redirect:"/login"},{path:"/login",component:q},{path:"/register",component:J},{path:"/home",component:K,redirect:"/map",children:[{path:"/map",name:"Map",component:re},{path:"/search",component:le},{path:"/enter",component:fe}]},{path:"/test",component:we}],Fe=new T["a"]({routes:be}),ke=Fe,Ce=(r("aede"),r("f7ec"));i["default"].component("video-bg",Ce["a"]),i["default"].use(a.a,{locale:f.a}),i["default"].config.productionTip=!1,i["default"].prototype.$axios=O.a,O.a.defaults.baseURL="",new i["default"]({axios:O.a,router:ke,render:function(e){return e(p)}}).$mount("#app")},"72f0":function(e,t,r){e.exports=r.p+"static/img/logo1.41ae2877.png"},"7f7f":function(e,t,r){"use strict";r("20e2")},"85ec":function(e,t,r){},"88d7":function(e,t,r){},"8b71":function(e,t,r){"use strict";r("88d7")},"8df8":function(e,t,r){},a6b6:function(e,t,r){},aa09:function(e,t,r){"use strict";r("0edd")},aede:function(e,t,r){},cfb7:function(e,t,r){},d8b4:function(e,t,r){e.exports=r.p+"static/img/logo.d2b8a2dd.png"},f487:function(e,t,r){}});
//# sourceMappingURL=app.11103278.js.map