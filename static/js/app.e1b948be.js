(function(e){function t(t){for(var a,o,s=t[0],l=t[1],c=t[2],m=0,p=[];m<s.length;m++)o=s[m],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,s=1;s<r.length;s++){var l=r[s];0!==n[l]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},i=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"0614":function(e,t,r){e.exports=r.p+"static/img/Login.2fa22e4c.png"},"0edd":function(e,t,r){},"22a0":function(e,t,r){e.exports=r.p+"static/media/login.693d9a56.mp4"},"41cf":function(e,t,r){},"47e8":function(e,t,r){"use strict";r("cfb7")},"4ded":function(e,t,r){},"522a":function(e,t,r){"use strict";r("f487")},5490:function(e,t,r){"use strict";r("a6b6")},"56d7":function(e,t,r){"use strict";r.r(t);r("0fae");var a=r("9e2f"),n=r.n(a),i=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},s=[],l={name:"app"},c=l,u=(r("034f"),r("2877")),m=Object(u["a"])(c,o,s,!1,null,null,null),p=m.exports,d=r("b2d6"),f=r.n(d),g=r("f529"),h=r.n(g),y=r("72aa"),v=r.n(y),x=r("a447"),w=r.n(x),b=r("f3ad"),F=r.n(b),k=r("3787"),C=r.n(k),_=r("4105"),$=r.n(_),S=r("eedf"),T=r.n(S);i["default"].use(T.a),i["default"].use($.a),i["default"].use(C.a),i["default"].use(F.a),i["default"].use(w.a),i["default"].use(v.a),i["default"].prototype.$message=h.a;var M=r("8c4f"),E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"background",staticStyle:{overflow:"-Scroll","overflow-y":"hidden"}},[a("video",{staticClass:"login-fillWidth",style:e.fixStyle,attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0},on:{canplay:e.canplay}},[a("source",{attrs:{src:r("22a0"),type:"video/mp4"}})]),a("div",{staticClass:"login_box"},[e._m(0),e._m(1),a("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{model:e.loginForm,rules:e.loginFormRules}},[a("el-form-item",{attrs:{prop:"username"}},[a("div",{staticClass:"inputText"},[a("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"Username"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1)]),a("el-form-item",{attrs:{prop:"password"}},[a("div",{staticClass:"inputText",staticStyle:{"margin-top":"-30px"}},[a("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"Password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)]),a("el-button",{staticClass:"inputButton",attrs:{type:"LOGIN",round:""},on:{click:function(t){return e.login()}}},[e._v("登 陆")]),a("div",{attrs:{id:"signIn"},on:{click:function(t){return e.register()}}},[a("el-link",{attrs:{type:"primary"}},[e._v(" 没有账号？点击注册 ")])],1)],1)],1)])},L=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avatar_box1"},[a("img",{attrs:{src:r("72f0")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avatar_box2"},[a("img",{attrs:{src:r("0614")}})])}],P=r("1da1"),R=(r("96cf"),r("bc3a")),j=r.n(R),O={name:"Login",data:function(){return{videoCanPlay:!1,fixStyle:"",loginForm:{username:"",password:""},loginFormRules:{username:[{required:!0,message:"                                          请输入用户名",trigger:"blur"},{min:4,max:10,message:"                                          长度在 4 到 10 个字符",trigger:"blur"},{pattern:/^[a-zA-Z]+$/,message:"                                          只能输入4-10位的字母",trigger:"blur"}],password:[{required:!0,message:"                                          请输入密码",trigger:"blur"},{min:6,max:16,message:"                                          长度在 6 到 16 个字符",trigger:"blur"},{pattern:/^(\w){6,16}$/,message:"                                          只能输入6-16个字母、数字、下划线",trigger:"blur"}]}}},methods:{login:function(){var e=this;this.$refs.loginFormRef.validate(function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in r||(e.$refs.loginFormRef.resetFields(),e.$message.error("登陆失败")),a=new FormData,e.loginForm)a.append(n,e.loginForm[n]),console.log(a.get(n));e.$axios.post("https://120.25.76.71/api/login",{username:e.loginForm.username,password:e.loginForm.password}).then((function(t){e.$message.success("登陆成功"),e.$router.push("./home")}),(function(t){e.$message.error("登陆失败")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},register:function(){this.$router.push("./register")},home:function(){this.$router.push("./home")},canplay:function(){this.videoCanPlay=!0}},mounted:function(){var e=this;window.onresize=function(){var t,r,a=document.body.clientWidth,n=document.body.clientHeight,i=n/a;i<.5625?(t=a,r=.5625*t,e.fixStyle={height:.5625*a+"px",width:a+"px","margin-bottom":(n-r)/2+"px","margin-left":"initial"}):(r=n,t=r/.5625,e.fixStyle={height:n+"px",width:n/.5625+"px","margin-left":(a-t)/2+"px","margin-bottom":"initial"})},window.onresize()}},D=O,H=(r("eb71"),Object(u["a"])(D,E,L,!1,null,"ba63080a",null)),q=H.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"background",staticStyle:{overflow:"-Scroll","overflow-y":"hidden"}},[a("video",{staticClass:"login-fillWidth",style:e.fixStyle,attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0},on:{canplay:e.canplay}},[a("source",{attrs:{src:r("22a0"),type:"video/mp4"}})]),a("div",{staticClass:"register_box"},[e._m(0),e._m(1),a("el-form",{ref:"registerFormRef",staticClass:"register_form",attrs:{model:e.registerForm,rules:e.registerFormRules,"status-icon":""}},[a("el-form-item",{attrs:{prop:"username"}},[a("div",{staticClass:"inputText1"},[a("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"Username"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1)]),a("el-form-item",{attrs:{prop:"phone"}},[a("div",{staticClass:"inputText2"},[a("el-input",{attrs:{"prefix-icon":"el-icon-phone",placeholder:"Phone Number"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}})],1)]),a("el-form-item",{attrs:{prop:"password"}},[a("div",{staticClass:"inputText3"},[a("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"Password",autocomplete:"off"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1)]),a("el-form-item",{attrs:{prop:"checkPass"}},[a("div",{staticClass:"inputText4"},[a("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"CheckPass",autocomplete:"off"},model:{value:e.registerForm.checkPass,callback:function(t){e.$set(e.registerForm,"checkPass",t)},expression:"registerForm.checkPass"}})],1)]),a("el-form-item",{attrs:{prop:"code"}},[a("div",{staticClass:"inputText5"},[a("el-input",{attrs:{"prefix-icon":"el-icon-eleme",placeholder:"Invitation Code"},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}})],1)]),a("el-button",{staticClass:"inputButton",attrs:{type:"LOGIN",round:""},on:{click:function(t){return e.register()}}},[e._v("注 册")]),a("div",{attrs:{id:"signIn"},on:{click:function(t){return e.login()}}},[a("el-link",{attrs:{type:"primary"}},[e._v("已有账号？点击登陆")])],1)],1)],1)])},z=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avatar_box1"},[a("img",{attrs:{src:r("72f0")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avatar_box2"},[a("img",{attrs:{src:r("0614"),alt:""}})])}],I={name:"Register",data:function(){var e=this,t=function(t,r,a){""===r?a(new Error("              请输入密码")):(""!==e.registerForm.checkPass&&e.$refs.registerFormRef.validateField("checkPass"),a())},r=function(t,r,a){""===r?a(new Error("              请再次输入密码")):r!==e.registerForm.password?a(new Error("              两次输入密码不一致!")):a()},a=function(t,r,a){""===r?a(new Error("              请输入手机号")):e.isCellPhone(r)?a():a(new Error("              请输入正确的手机号!"))};return{videoCanPlay:!1,fixStyle:"",registerForm:{username:"",password:"",checkPass:"",phone:"",code:""},registerFormRules:{username:[{required:!0,message:"              请输入用户名",trigger:"blur"},{min:4,max:10,message:"长度在 4 到 10 个字符",trigger:"blur"},{pattern:/^[a-zA-Z]+$/,message:"只能输入4-10位的字母",trigger:"blur"}],password:[{validator:t,trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16个字符",trigger:"blur"},{pattern:/^(\w){6,16}$/,message:"只能输入6-16个字母、数字、下划线",trigger:"blur"}],checkPass:[{validator:r,trigger:"blur"}],phone:[{required:!0,message:"              请输入手机号码",trigger:"blur"},{validator:a,trigger:"blur"}]}}},methods:{isCellPhone:function(e){return!!/^1(3|4|5|6|7|8)\d{9}$/.test(e)},register:function(){var e=this;this.$refs.registerFormRef.validate(function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in r||(e.$refs.registerFormRef.resetFields(),e.$message.error("注册失败")),a=new FormData,e.registerForm)a.append(n,e.registerForm[n]),console.log(a.get(n));e.$axios.post("https://120.25.76.71/api/register",{username:e.registerForm.username,phone:e.registerForm.phone,password:e.registerForm.password}).then((function(t){e.$message.success("注册成功"),e.$router.push("./login")}),(function(t){e.$message.error("注册失败")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},login:function(){this.$router.push("./login")},canplay:function(){this.videoCanPlay=!0}},mounted:function(){var e=this;window.onresize=function(){var t,r,a=document.body.clientWidth,n=document.body.clientHeight,i=n/a;i<.5625?(t=a,r=.5625*t,e.fixStyle={height:.5625*a+"px",width:a+"px","margin-bottom":(n-r)/2+"px","margin-left":"initial"}):(r=n,t=r/.5625,e.fixStyle={height:n+"px",width:n/.5625+"px","margin-left":(a-t)/2+"px","margin-bottom":"initial"})},window.onresize()}},W=I,A=(r("a563"),Object(u["a"])(W,B,z,!1,null,"7f46fd5e",null)),V=A.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("el-container",{staticStyle:{height:"100%",border:"1px solid #333744"}},[a("el-header",[a("div",{staticStyle:{"background-color":"#373d41"}},[a("img",{staticStyle:{height:"55px",width:"140px"},attrs:{src:r("d8b4")}})]),a("span",{staticClass:"font"},[e._v("重大传染病流调系统")]),a("div",{staticClass:"firework"},[a("lottie-player",{staticStyle:{width:"200px",height:"60px"},attrs:{src:"https://assets3.lottiefiles.com/packages/lf20_fJ7CVd.json",background:"transparent",speed:"1",loop:"",autoplay:""}})],1),a("el-button",{staticClass:"exit",attrs:{type:"primary",round:""},on:{click:function(t){return e.exit()}}},[e._v("退 出")])],1),a("el-container",{staticStyle:{padding:"0"}},[a("el-aside",{attrs:{width:e.isCollapse?"64px":"200px"}},[a("div",{staticClass:"toggle"},[e._v("|||")]),a("el-menu",{attrs:{collapse:e.isCollapse,"collapse-transition":!1,router:!0,"background-color":"#333744","text-color":"#fff","active-text-color":"#409EFF"}},[a("el-menu-item",{attrs:{index:"/home"}},[a("i",{staticClass:"el-icon-house"}),a("span",[e._v("首页")])]),a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-custom"}),a("span",[e._v("用户")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/person"}},[a("i",{staticClass:"el-icon-user"}),e._v("个人信息")]),a("el-menu-item",{attrs:{index:"/record"}},[a("i",{staticClass:"el-icon-document"}),e._v("我的记录")])],1)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-search"}),a("span",[e._v("查询")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/search"}},[a("i",{staticClass:"el-icon-search"}),e._v("查询患者")]),a("el-menu-item",{attrs:{index:"/back"}},[a("i",{staticClass:"el-icon-refresh"}),e._v("查询回溯")]),a("el-menu-item",{attrs:{index:"/enter"}},[a("i",{staticClass:"el-icon-edit-outline"}),e._v("人工录入")])],1)],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),a("span",[e._v("设置")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/background"}},[a("i",{staticClass:"el-icon-sort"}),e._v("切换背景")]),a("el-menu-item",{attrs:{index:"/manage"}},[a("i",{staticClass:"el-icon-wallet"}),e._v("账号管理")]),a("el-menu-item",{attrs:{index:"/check"}},[a("i",{staticClass:"el-icon-setting"}),e._v("检查更新")]),a("el-menu-item",{attrs:{index:"/about"}},[a("i",{staticClass:"el-icon-info"}),e._v("关于我们")])],1)],2)],1)],1),a("el-main",{style:e.defaultHeight},[a("div",{staticStyle:{"overflow-y":"auto",height:"100%"}},[a("router-view")],1)])],1)],1)],1)},U=[],Z={data:function(){return{videoCanPlay:!1,isCollapse:!1,defaultHeight:{height:""}}},methods:{toggleCollapse:function(){this.isCollapse=!this.isCollapse},exit:function(){var e=this;this.$confirm("是否确认要退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$router.push("./login")}))},getHeight:function(){this.defaultHeight.height=window.innerHeight-62+"px"}},created:function(){window.addEventListener("resize",this.getHeight),this.getHeight()}},G=Z,N=(r("8b71"),Object(u["a"])(G,J,U,!1,null,null,null)),X=N.exports,K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box"},[r("div",{attrs:{id:"container"}}),r("div",{staticClass:"info"},[r("el-button",{staticClass:"button",attrs:{type:"primary",round:""},on:{click:function(t){return e.getOtherLocation()}}},[e._v("回 溯")])],1),e._m(0),e._m(1)])},Q=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"word1"},[r("div",{staticClass:"line1"}),r("span",{staticStyle:{color:"white"}},[e._v("红色的线表示患者本人路径")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"word2"},[r("div",{staticClass:"line2"}),r("span",{staticStyle:{color:"white"}},[e._v("绿色的线表示与患者有接触人员路径")])])}],Y=(r("4ec9"),r("d3b7"),r("3ca3"),r("ddb0"),r("b0c0"),r("d81d"),{data:function(){return{judge:!0,marked:[],path:[],tril:[],name:[],identy:[],Map:Map,markerLayer:"",polylineLayer:"",othermarkerLayer:"",otherpolylineLayer:"",temp:[]}},methods:{getOtherLocation:function(){var e=this;this.$confirm("是否确认要进行回溯?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e;t.othermarkerLayer.setVisible(!0),t.otherpolylineLayer.setVisible(!0),t.judge?(t.judge=!t.judge,e.$axios.post("https://120.25.76.71/api/func",{name:"四号",identy:"123456200001010104",time:["2021-07-16 00:00:00","2021-07-19 00:00:00"]}).then((function(e){for(var r=2;r<e.data.all_routes.length;r+=3){for(var a=0;a<e.data.all_routes[r].length;a++){var n={firlat:e.data.all_routes[r][a]["0"],firlng:e.data.all_routes[r][a]["1"],firTime:e.data.all_routes[r][a]["2"],laslat:e.data.all_routes[r][a]["3"],laslng:e.data.all_routes[r][a]["4"],lasTime:e.data.all_routes[r][a]["5"]},i=t.marked[e.data.all_routes[r-2]]||[];i.push(n),t.marked[e.data.all_routes[r-2]]=i}t.name.push(e.data.all_routes[r-2]),t.identy.push(e.data.all_routes[r-1])}console.log(t.identy),console.log(t.marked),console.log(t.marked[t.name[0]]);for(r=0;r<t.name.length;r++){var o=0;for(a=0;a<t.marked[t.name[r]].length;a++)t.othermarkerLayer.add({id:t.name[r]+o,position:new TMap.LatLng(t.marked[t.name[r]][a].firlat,t.marked[t.name[r]][a].firlng),properties:{name:t.name[r],Time:t.marked[t.name[r]][a].firTime,identy:t.identy[r]}}),o+=1,t.othermarkerLayer.add({id:t.name[r]+o,position:new TMap.LatLng(t.marked[t.name[r]][a].laslat,t.marked[t.name[r]][a].laslng),properties:{name:t.name[r],Time:t.marked[t.name[r]][a].lasTime,identy:t.identy[r]}}),o+=1}for(r=0;r<t.name.length;r++){var s=new Array,l=0;for(a=0;a<t.marked[t.name[r]].length;a++)s[l]=[t.marked[t.name[r]][a].firlat,t.marked[t.name[r]][a].firlng],l+=1,s[l]=[t.marked[t.name[r]][a].laslat,t.marked[t.name[r]][a].laslng],l+=1;console.log(s),s=s.map((function(e){return new TMap.LatLng(e[0],e[1])})),console.log(s),t.otherpolylineLayer.add({id:t.name[r],styleId:"style_green",paths:s})}}))):(t.othermarkerLayer.setVisible(!1),t.otherpolylineLayer.setVisible(!1),console.log("隐藏"),t.judge=!t.judge)})).catch((function(){}))},initMap:function(e,t,r){var a=new window.TMap.LatLng(39.792151,116.397607);this.Map=new window.TMap.Map(document.getElementById("container"),{center:a,zoom:15,pitch:43.5,rotation:45,mapStyleId:"style1",baseMap:{type:"vector",features:["base","building2d"]}});var n=this;this.$axios.post("https://120.25.76.71/api/func",{name:e,identy:t,time:r}).then((function(e){console.log(e.data),console.log(e.data.routes.length);for(var t=0;t<e.data.routes.length;t++){var r={lat:e.data.routes[t]["1"],lng:e.data.routes[t]["2"],time:e.data.routes[t]["0"]},a=n.marked["location"]||[];a.push(r),n.marked["location"]=a,n.tril.push(r)}var i=0;for(var o in n.tril)n.path[i]=[n.tril[i].lat,n.tril[i].lng],i+=1;n.Map.setCenter(new TMap.LatLng(n.path[0][0],n.path[0][1]));for(t=0;t<n.marked.location.length;t++)n.markerLayer.add({id:t,styleId:"myStyle",position:new TMap.LatLng(n.marked.location[t]["lat"],n.marked.location[t]["lng"]),properties:{name:e.data.name,Time:n.marked.location[t].time}});new TMap.visualization.Trail({map:n.Map,pickStyle:function(e){return{width:10,color:"#00FFFF"}},startTime:0,showDuration:120,playRate:1e3}).addTo(n.Map).setData([{path:n.path}]);n.polylineLayer=new TMap.MultiPolyline({id:"polyline-layer",map:n.Map,styles:{style_red:new TMap.PolylineStyle({color:"#CC0000",width:6,lineCap:"round"}),style_green:new TMap.PolylineStyle({color:"#00FF00",width:6,lineCap:"round"})}}),n.otherpolylineLayer=new TMap.MultiPolyline({id:"otherpolyline-layer",map:n.Map,styles:{style_red:new TMap.PolylineStyle({color:"#CC0000",width:6,lineCap:"round"}),style_green:new TMap.PolylineStyle({color:"#00FF00",width:6,lineCap:"round"})}});var s=new Array;t=0;for(var o in n.tril)s[t]=[n.tril[t].lat,n.tril[t].lng],t+=1;s=s.map((function(e){return new TMap.LatLng(e[0],e[1])})),n.polylineLayer.add({id:"pl_1",styleId:"style_red",paths:s})})),n.markerLayer=new TMap.MultiMarker({map:n.Map,styles:{myStyle:new TMap.MarkerStyle({width:25,height:35,src:"https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/markerDefault.png",anchor:{x:16,y:32}})}}),n.othermarkerLayer=new TMap.MultiMarker({map:n.Map,styles:{myStyle:new TMap.MarkerStyle({width:25,height:35,anchor:{x:16,y:32}})}});var i=new TMap.InfoWindow({map:n.Map,position:new TMap.LatLng(30.5263,114.348),offset:{x:0,y:-32},enableCustome:!0});i.close();var o=function(e){i.open(),i.setPosition(e.geometry.position),console.log(e),n.$axios.post("https://120.25.76.71/api/content",{url:"https://apis.map.qq.com/ws/geocoder/v1/?location="+e.geometry.position.lat+","+e.geometry.position.lng+"&key=EHABZ-5AFLU-T5XV6-BHFBR-JRKTZ-2UFJ6"}).then((function(t){console.log(t.data),i.setContent('<div><div class="divbox">'+e.geometry.properties.name+'</div><div calss="divtextbox">'+t.data+"<br>"+e.geometry.properties.Time+"</div></div>")}))};n.markerLayer.on("click",o),n.othermarkerLayer.on("click",o),console.log(n.Map),console.log(window)}},mounted:function(){this.initMap(this.$route.query.name,this.$route.query.identy,this.$route.query.time)}}),ee=Y,te=(r("5490"),Object(u["a"])(ee,K,Q,!1,null,null,null)),re=te.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search",staticStyle:{overflow:"-Scroll","overflow-y":"hidden","overflow-x":"hidden"}},[a("div",{staticClass:"container",style:e.contain},[a("video",{staticClass:"login-fillWidth",attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0},on:{canplay:e.canplay}},[a("source",{attrs:{src:r("22a0"),type:"video/mp4"}})])]),a("div",{staticClass:"loc"},[a("lottie-player",{attrs:{src:"https://assets8.lottiefiles.com/packages/lf20_1fkkgt7r.json",background:"transparent",speed:"1",loop:"",autoplay:""}})],1),a("el-form",{ref:"SearchFormRef",staticClass:"searchForm",attrs:{model:e.SearchForm,"label-width":"80px",rules:e.SearchFormRules,"status-icon":""}},[a("div",{staticClass:"font"},[a("h1",[e._v("查 询 患 者 信 息")])]),a("div",{staticClass:"inputText"},[a("el-form-item",{staticClass:"label",attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.SearchForm.name,callback:function(t){e.$set(e.SearchForm,"name",t)},expression:"SearchForm.name"}})],1)],1),a("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[a("el-form-item",{staticClass:"label",attrs:{label:"身份证号",prop:"identy"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-postcard"},model:{value:e.SearchForm.identy,callback:function(t){e.$set(e.SearchForm,"identy",t)},expression:"SearchForm.identy"}})],1)],1),a("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[a("el-form-item",{staticClass:"label",attrs:{label:"查询日期",prop:"time"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.SearchForm.time,callback:function(t){e.$set(e.SearchForm,"time",t)},expression:"SearchForm.time"}})],1)],1)],1),a("el-form-item",[a("el-button",{staticClass:"button1",attrs:{type:"primary",round:""},on:{click:function(t){return e.onload()}}},[e._v("查 询")]),a("el-button",{staticClass:"button2",staticStyle:{"margin-left":"90px"},attrs:{round:""},on:{click:function(t){return e.cancel()}}},[e._v("取 消")])],1)],1)],1)},ne=[],ie={name:"Search",data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-7776e6),e.$emit("pick",[r,t])}}]},videoCanPlay:!1,fixStyle:"",contain:{height:"",width:""},SearchForm:{name:"",identy:"",time:[new Date(2021,6,23,0,0),new Date(2021,7,1,0,0)]},SearchFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{pattern:"^[\\u4e00-\\u9fa5]{2,4}$",message:"请输入正确的姓名",trigger:"blur"}],identy:[{required:!0,message:"请输入身份证号",trigger:"blur"},{pattern:"^[1-9]\\d{5}(18|19|20|(3\\d))\\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$",message:"请输入正确的身份证号",trigger:"blur"}]}}},methods:{onload:function(){var e=this;this.$refs.SearchFormRef.validate(function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in r||(e.$refs.SearchFormRef.resetFields(),e.$notify.error({title:"错误",message:"输入的信息不符合规则"})),a=new FormData,e.SearchForm)a.append(n,e.SearchForm[n]),console.log(a.get(n));e.$confirm("是否确认查询?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$router.push({path:"/map",name:"Map",query:{name:e.SearchForm.name,identy:e.SearchForm.identy,time:e.SearchForm.time},params:{usersitelist:"userlist"}}),e.$axios.post("https://120.25.76.71/api/func",{name:e.SearchForm.name,identy:e.SearchForm.identy,time:e.SearchForm.time}).then((function(t){e.$message.success("成功查询患者"),e.$router.push("./home")}),(function(t){e.$message.error("查询失败")}))})).catch((function(){}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},cancel:function(){var e=this;this.$confirm("是否确认要取消查询?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$refs.SearchFormRef.resetFields()})).catch((function(){}))},canplay:function(){this.videoCanPlay=!0},getDefault:function(){this.contain.height=window.innerHeight-62+"px",this.contain.width=window.innerWidth-201+"px"}},created:function(){window.addEventListener("resize",this.getDefault),this.getDefault()}},oe=ie,se=(r("47e8"),Object(u["a"])(oe,ae,ne,!1,null,null,null)),le=se.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"enter",staticStyle:{overflow:"-Scroll","overflow-y":"hidden","overflow-x":"hidden"}},[a("div",{staticClass:"container",style:e.contain},[a("video",{staticClass:"login-fillWidth",attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0},on:{canplay:e.canplay}},[a("source",{attrs:{src:r("22a0"),type:"video/mp4"}}),e._v(" --\x3e ")])]),a("div",{staticClass:"loc"},[a("lottie-player",{attrs:{src:"https://assets5.lottiefiles.com/packages/lf20_osthueqs.json",background:"transparent",speed:"1",loop:"",autoplay:""}})],1),a("el-form",{ref:"EnterFormRef",staticClass:"enterForm",attrs:{model:e.EnterForm,"label-width":"80px",rules:e.EnterFormRules,"status-icon":""}},[a("div",{staticClass:"font"},[a("h1",[e._v("录 入 患 者 信 息")])]),a("div",{staticClass:"inputText"},[a("el-form-item",{staticClass:"label",attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.EnterForm.name,callback:function(t){e.$set(e.EnterForm,"name",t)},expression:"EnterForm.name"}})],1)],1),a("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[a("el-form-item",{staticClass:"label",attrs:{label:"身份证号",prop:"identy"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-postcard"},model:{value:e.EnterForm.identy,callback:function(t){e.$set(e.EnterForm,"identy",t)},expression:"EnterForm.identy"}})],1)],1),a("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[a("el-form-item",{staticClass:"label",attrs:{label:"日期",prop:"time"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.EnterForm.time,callback:function(t){e.$set(e.EnterForm,"time",t)},expression:"EnterForm.time"}})],1)],1)],1),a("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[a("el-form-item",{staticClass:"label",attrs:{label:"起始位置",prop:"start"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-location-information"},model:{value:e.EnterForm.start,callback:function(t){e.$set(e.EnterForm,"start",t)},expression:"EnterForm.start"}})],1)],1),a("div",{staticClass:"inputText",staticStyle:{"margin-top":"40px"}},[a("el-form-item",{staticClass:"label",attrs:{label:"终止位置",prop:"end"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-location-information"},model:{value:e.EnterForm.end,callback:function(t){e.$set(e.EnterForm,"end",t)},expression:"EnterForm.end"}})],1)],1),a("el-form-item",[a("el-button",{staticClass:"button1",attrs:{type:"primary",round:""},on:{click:function(t){return e.onload()}}},[e._v("录 入")]),a("el-button",{staticClass:"button2",staticStyle:{"margin-left":"90px"},attrs:{round:""},on:{click:function(t){return e.cancel()}}},[e._v(" 取 消")])],1)],1)],1)},ue=[],me={name:"Enter",data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-7776e6),e.$emit("pick",[r,t])}}]},videoCanPlay:!1,fixStyle:"",contain:{height:"",width:""},EnterForm:{name:"",identy:"",time:"",start:"",end:""},EnterFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{pattern:"^[\\u4e00-\\u9fa5]{2,4}$",message:"请输入正确的姓名",trigger:"blur"}],identy:[{required:!0,message:"请输入身份证号",trigger:"blur"},{pattern:"^[1-9]\\d{5}(18|19|20|(3\\d))\\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$",message:"请输入正确的身份证号",trigger:"blur"}],start:[{required:!0,message:"请输入地址信息",trigger:"blur"}],end:[{required:!0,message:"请输入地址信息",trigger:"blur"}]}}},methods:{onload:function(){var e=this;this.$refs.EnterFormRef.validate(function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in r||e.$refs.EnterFormRef.resetFields(),a=new FormData,e.EnterForm)a.append(n,e.EnterForm[n]),console.log(a.get(n));e.$confirm("是否确认录入?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$axios.post("https://120.25.76.71/api/entry",{name:e.EnterForm.name,identy:e.EnterForm.identy,start:e.EnterForm.start,end:e.EnterForm.end,time:e.EnterForm.time}).then((function(t){e.$message.success("成功录入患者"),e.$refs.EnterFormRef.resetFields()}),(function(t){console.log(t),console.log(e.EnterForm.time),e.$message.error("录入失败")}))})).catch((function(){}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},cancel:function(){var e=this;this.$confirm("是否确认要取消录入?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$refs.EnterFormRef.resetFields()})).catch((function(){}))},canplay:function(){this.videoCanPlay=!0},getDefault:function(){this.contain.height=window.innerHeight-62+"px",this.contain.width=window.innerWidth-201+"px"}},created:function(){window.addEventListener("resize",this.getDefault),this.getDefault()}},pe=me,de=(r("aa09"),Object(u["a"])(pe,ce,ue,!1,null,null,null)),fe=de.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-homepage-hero-module"},[a("div",{staticClass:"login-video-container"},[a("video",{staticClass:"login-fillWidth",style:e.fixStyle,attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0},on:{canplay:e.canplay}},[a("source",{attrs:{src:r("22a0"),type:"video/mp4"}})])])])},he=[],ye={data:function(){return{videoCanPlay:!1,fixStyle:""}},methods:{canplay:function(){this.videoCanPlay=!0}},mounted:function(){var e=this;window.onresize=function(){var t,r,a=document.body.clientWidth,n=document.body.clientHeight,i=n/a;i<.5625?(t=a,r=.5625*t,e.fixStyle={height:.5625*a+"px",width:a+"px","margin-bottom":(n-r)/2+"px","margin-left":"initial"}):(r=n,t=r/.5625,e.fixStyle={height:n+"px",width:n/.5625+"px","margin-left":(a-t)/2+"px","margin-bottom":"initial"})},window.onresize()}},ve=ye,xe=(r("522a"),Object(u["a"])(ve,ge,he,!1,null,"24350dbe",null)),we=xe.exports;i["default"].use(M["a"]);var be=[{path:"/",redirect:"/login"},{path:"/login",component:q},{path:"/register",component:V},{path:"/home",component:X,redirect:"/map",children:[{path:"/map",name:"Map",component:re},{path:"/search",component:le},{path:"/enter",component:fe}]},{path:"/test",component:we}],Fe=new M["a"]({routes:be}),ke=Fe,Ce=(r("aede"),r("f7ec"));i["default"].component("video-bg",Ce["a"]),i["default"].use(n.a,{locale:f.a}),i["default"].config.productionTip=!1,i["default"].prototype.$axios=j.a,j.a.defaults.baseURL="",new i["default"]({axios:j.a,router:ke,render:function(e){return e(p)}}).$mount("#app")},"72f0":function(e,t,r){e.exports=r.p+"static/img/logo1.41ae2877.png"},"85ec":function(e,t,r){},"88d7":function(e,t,r){},"8b71":function(e,t,r){"use strict";r("88d7")},a563:function(e,t,r){"use strict";r("41cf")},a6b6:function(e,t,r){},aa09:function(e,t,r){"use strict";r("0edd")},aede:function(e,t,r){},cfb7:function(e,t,r){},d8b4:function(e,t,r){e.exports=r.p+"static/img/logo.d2b8a2dd.png"},eb71:function(e,t,r){"use strict";r("4ded")},f487:function(e,t,r){}});
//# sourceMappingURL=app.e1b948be.js.map